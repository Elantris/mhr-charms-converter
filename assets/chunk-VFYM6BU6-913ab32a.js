import{e as ve,r as s,j as u,a as g,q as X,x as J,y as ye,d as i,g as l,m as ie,z as Z,f as be,u as Ce,o as ge,C as xe,c as we}from"./index-1bc83ae7.js";import{b as Ee}from"./chunk-OEQDSMWZ-47880cf7.js";var[Qe,Se]=ve({name:"CheckboxGroupContext",strict:!1});function Ie(e){const[a,n]=s.useState(e),[o,f]=s.useState(!1);return e!==a&&(f(!0),n(e)),o}function Pe(e){return u.jsx(g.svg,{width:"1.2em",viewBox:"0 0 12 10",style:{fill:"none",strokeWidth:2,stroke:"currentColor",strokeDasharray:16},...e,children:u.jsx("polyline",{points:"1.5 6 4.5 9 10.5 1"})})}function Le(e){return u.jsx(g.svg,{width:"1.2em",viewBox:"0 0 24 24",style:{stroke:"currentColor",strokeWidth:4},...e,children:u.jsx("line",{x1:"21",x2:"3",y1:"12",y2:"12"})})}function De(e){const{isIndeterminate:a,isChecked:n,...o}=e,f=a?Le:Pe;return n||a?u.jsx(g.div,{style:{display:"flex",alignItems:"center",justifyContent:"center",height:"100%"},children:u.jsx(f,{...o})}):null}var Fe={border:"0",clip:"rect(0, 0, 0, 0)",height:"1px",width:"1px",margin:"-1px",padding:"0",overflow:"hidden",whiteSpace:"nowrap",position:"absolute"},ce=!1,j=null,y=!1,Q=!1,Y=new Set;function ee(e,a){Y.forEach(n=>n(e,a))}var Me=typeof window<"u"&&window.navigator!=null?/^Mac/.test(window.navigator.platform):!1;function je(e){return!(e.metaKey||!Me&&e.altKey||e.ctrlKey||e.key==="Control"||e.key==="Shift"||e.key==="Meta")}function le(e){y=!0,je(e)&&(j="keyboard",ee("keyboard",e))}function C(e){if(j="pointer",e.type==="mousedown"||e.type==="pointerdown"){y=!0;const a=e.composedPath?e.composedPath()[0]:e.target;let n=!1;try{n=a.matches(":focus-visible")}catch{}if(n)return;ee("pointer",e)}}function Ae(e){return e.mozInputSource===0&&e.isTrusted?!0:e.detail===0&&!e.pointerType}function Be(e){Ae(e)&&(y=!0,j="virtual")}function _e(e){e.target===window||e.target===document||(!y&&!Q&&(j="virtual",ee("virtual",e)),y=!1,Q=!1)}function Re(){y=!1,Q=!0}function ue(){return j!=="pointer"}function Ke(){if(typeof window>"u"||ce)return;const{focus:e}=HTMLElement.prototype;HTMLElement.prototype.focus=function(...n){y=!0,e.apply(this,n)},document.addEventListener("keydown",le,!0),document.addEventListener("keyup",le,!0),document.addEventListener("click",Be,!0),window.addEventListener("focus",_e,!0),window.addEventListener("blur",Re,!1),typeof PointerEvent<"u"?(document.addEventListener("pointerdown",C,!0),document.addEventListener("pointermove",C,!0),document.addEventListener("pointerup",C,!0)):(document.addEventListener("mousedown",C,!0),document.addEventListener("mousemove",C,!0),document.addEventListener("mouseup",C,!0)),ce=!0}function Ne(e){Ke(),e(ue());const a=()=>e(ue());return Y.add(a),()=>{Y.delete(a)}}function He(e,a=[]){const n=Object.assign({},e);for(const o of a)o in n&&delete n[o];return n}function Ue(e={}){const a=Ee(e),{isDisabled:n,isReadOnly:o,isRequired:f,isInvalid:r,id:p,onBlur:U,onFocus:V,"aria-describedby":x}=a,{defaultChecked:w,isChecked:E,isFocusable:q,onChange:O,isIndeterminate:h,name:S,value:A,tabIndex:B=void 0,"aria-label":I,"aria-labelledby":P,"aria-invalid":m,...T}=e,L=He(T,["isDisabled","isReadOnly","isRequired","isInvalid","id","onBlur","onFocus","aria-describedby"]),D=X(O),_=X(U),F=X(V),[R,W]=s.useState(!1),[M,K]=s.useState(!1),[z,te]=s.useState(!1),[G,b]=s.useState(!1);s.useEffect(()=>Ne(W),[]);const d=s.useRef(null),[ne,de]=s.useState(!0),[fe,N]=s.useState(!!w),$=E!==void 0,c=$?E:fe,oe=s.useCallback(t=>{if(o||n){t.preventDefault();return}$||N(c?t.target.checked:h?!0:t.target.checked),D==null||D(t)},[o,n,c,$,h,D]);J(()=>{d.current&&(d.current.indeterminate=!!h)},[h]),ye(()=>{n&&K(!1)},[n,K]),J(()=>{const t=d.current;t!=null&&t.form&&(t.form.onreset=()=>{N(!!w)})},[]);const ae=n&&!q,se=s.useCallback(t=>{t.key===" "&&b(!0)},[b]),re=s.useCallback(t=>{t.key===" "&&b(!1)},[b]);J(()=>{if(!d.current)return;d.current.checked!==c&&N(d.current.checked)},[d.current]);const he=s.useCallback((t={},k=null)=>{const v=H=>{M&&H.preventDefault(),b(!0)};return{...t,ref:k,"data-active":i(G),"data-hover":i(z),"data-checked":i(c),"data-focus":i(M),"data-focus-visible":i(M&&R),"data-indeterminate":i(h),"data-disabled":i(n),"data-invalid":i(r),"data-readonly":i(o),"aria-hidden":!0,onMouseDown:l(t.onMouseDown,v),onMouseUp:l(t.onMouseUp,()=>b(!1)),onMouseEnter:l(t.onMouseEnter,()=>te(!0)),onMouseLeave:l(t.onMouseLeave,()=>te(!1))}},[G,c,n,M,R,z,h,r,o]),me=s.useCallback((t={},k=null)=>({...L,...t,ref:ie(k,v=>{v&&de(v.tagName==="LABEL")}),onClick:l(t.onClick,()=>{var v;ne||((v=d.current)==null||v.click(),requestAnimationFrame(()=>{var H;(H=d.current)==null||H.focus({preventScroll:!0})}))}),"data-disabled":i(n),"data-checked":i(c),"data-invalid":i(r)}),[L,n,c,r,ne]),pe=s.useCallback((t={},k=null)=>({...t,ref:ie(d,k),type:"checkbox",name:S,value:A,id:p,tabIndex:B,onChange:l(t.onChange,oe),onBlur:l(t.onBlur,_,()=>K(!1)),onFocus:l(t.onFocus,F,()=>K(!0)),onKeyDown:l(t.onKeyDown,se),onKeyUp:l(t.onKeyUp,re),required:f,checked:c,disabled:ae,readOnly:o,"aria-label":I,"aria-labelledby":P,"aria-invalid":m?!!m:r,"aria-describedby":x,"aria-disabled":n,style:Fe}),[S,A,p,oe,_,F,se,re,f,c,ae,o,I,P,m,r,x,n,B]),ke=s.useCallback((t={},k=null)=>({...t,ref:k,onMouseDown:l(t.onMouseDown,Ve),"data-disabled":i(n),"data-checked":i(c),"data-invalid":i(r)}),[c,n,r]);return{state:{isInvalid:r,isFocused:M,isChecked:c,isActive:G,isHovered:z,isIndeterminate:h,isDisabled:n,isReadOnly:o,isRequired:f},getRootProps:me,getCheckboxProps:he,getInputProps:pe,getLabelProps:ke,htmlProps:L}}function Ve(e){e.preventDefault(),e.stopPropagation()}var qe={display:"inline-flex",alignItems:"center",justifyContent:"center",verticalAlign:"top",userSelect:"none",flexShrink:0},Oe={cursor:"pointer",display:"inline-flex",alignItems:"center",verticalAlign:"top",position:"relative"},Te=Z({from:{opacity:0,strokeDashoffset:16,transform:"scale(0.95)"},to:{opacity:1,strokeDashoffset:0,transform:"scale(1)"}}),We=Z({from:{opacity:0},to:{opacity:1}}),ze=Z({from:{transform:"scaleX(0.65)"},to:{transform:"scaleX(1)"}}),Ge=be(function(a,n){const o=Se(),f={...o,...a},r=Ce("Checkbox",f),p=ge(a),{spacing:U="0.5rem",className:V,children:x,iconColor:w,iconSize:E,icon:q=u.jsx(De,{}),isChecked:O,isDisabled:h=o==null?void 0:o.isDisabled,onChange:S,inputProps:A,...B}=p;let I=O;o!=null&&o.value&&p.value&&(I=o.value.includes(p.value));let P=S;o!=null&&o.onChange&&p.value&&(P=xe(o.onChange,S));const{state:m,getInputProps:T,getCheckboxProps:L,getLabelProps:D,getRootProps:_}=Ue({...B,isDisabled:h,isChecked:I,onChange:P}),F=Ie(m.isChecked),R=s.useMemo(()=>({animation:F?m.isIndeterminate?`${We} 20ms linear, ${ze} 200ms linear`:`${Te} 200ms linear`:void 0,fontSize:E,color:w,...r.icon}),[w,E,F,m.isIndeterminate,r.icon]),W=s.cloneElement(q,{__css:R,isIndeterminate:m.isIndeterminate,isChecked:m.isChecked});return u.jsxs(g.label,{__css:{...Oe,...r.container},className:we("chakra-checkbox",V),..._(),children:[u.jsx("input",{className:"chakra-checkbox__input",...T(A,n)}),u.jsx(g.span,{__css:{...qe,...r.control},className:"chakra-checkbox__control",...L(),children:W}),x&&u.jsx(g.span,{className:"chakra-checkbox__label",...D(),__css:{marginStart:U,...r.label},children:x})]})});Ge.displayName="Checkbox";export{Ge as C};
